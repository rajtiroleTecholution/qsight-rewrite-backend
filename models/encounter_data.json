{
    "api_specification": {
      "base_url": "/api/encounter",
      "data_model": {
        "patient_name": "string (required)",
        "mrn_number": "number (required)",
        "case_id": "number (unique, auto generate,required)",
        "procedure": "string (required)",
        "created_at": "timestamp",
        "updated_at": "timestamp",
        "scheduled_at": "timestamp (required)",
        "end_time": {
          "type": "timestamp (required)",
          "validation": "End time must be after scheduled_at"
        },
        "status": "enum[ongoing, completed, upcoming] (required)",
        "room": [
          {
            "id": "number (required)",
            "room_name": "string (required)"
          }
        ],
        "nurse": "string (required)",
        "physician": "string (required)",
        "products": "array of product schema"
      },
      "endpoints": [
        {
          "operation": "List All Encounters",
          "method": "GET",
          "endpoint": "/api/encounter",
          "description": "Fetches a list of all patient encounters.",
          "request": {
            "method": "GET",
            "url_parameters": "None"
          },
          "response": {
            "status": "200 OK",
            "body": [
              {
                "patient_name": "John Doe",
                "mrn_number": 123456,
                "case_id": 1,
                "procedure": "Surgery",
                "created_at": "2024-09-01T08:30:00Z",
                "updated_at": "2024-09-01T09:30:00Z",
                "scheduled_at": "2024-09-01T10:00:00Z",
                "end_time": "2024-09-01T12:00:00Z",
                "status": "completed",
                "room": [
                  {
                    "id": 1,
                    "room_name": "Operating Room A"
                  }
                ],
                "nurse": "Nurse Jane",
                "physician": "Dr. Smith",
                "products": []
              }
            ]
          }
        },
        {
          "operation": "Get Encounter by Case ID",
          "method": "GET",
          "endpoint": "/api/encounter/:case_id",
          "description": "Fetches a specific patient encounter by case ID.",
          "request": {
            "method": "GET",
            "url_parameters": ":case_id"
          },
          "response": {
            "status": "200 OK",
            "body": {
              "patient_name": "John Doe",
              "mrn_number": 123456,
              "case_id": 1,
              "procedure": "Surgery",
              "created_at": "2024-09-01T08:30:00Z",
              "updated_at": "2024-09-01T09:30:00Z",
              "scheduled_at": "2024-09-01T10:00:00Z",
              "end_time": "2024-09-01T12:00:00Z",
              "status": "completed",
              "room": [
                {
                  "id": 1,
                  "room_name": "Operating Room A"
                }
              ],
              "nurse": "Nurse Jane",
              "physician": "Dr. Smith",
              "products": []
            }
          }
        },
        {
          "operation": "Create a New Encounter",
          "method": "POST",
          "endpoint": "/api/encounter",
          "description": "Creates a new patient encounter.",
          "request": {
            "method": "POST",
            "body": {
              "patient_name": "string",
              "mrn_number": "number",
              "procedure": "string",
              "scheduled_at": "timestamp",
              "end_time": "timestamp",
              "status": "upcoming",
              "room": [
                {
                  "id": "number",
                  "room_name": "string"
                }
              ],
              "nurse": "string",
              "physician": "string",
              "products": []
            }
          },
          "response": {
            "status": "201 Created",
            "body": {
              "message": "Encounter created successfully.",
              "encounter": {
                "patient_name": "John Doe",
                "mrn_number": 123456,
                "case_id": 1,
                "procedure": "Surgery",
                "scheduled_at": "2024-09-01T10:00:00Z",
                "end_time": "2024-09-01T12:00:00Z",
                "status": "ongoing",
                "room": [
                  {
                    "id": 1,
                    "room_name": "Operating Room A"
                  }
                ],
                "nurse": "Nurse Jane",
                "physician": "Dr. Smith",
                "products": []
              }
            }
          }
        },
        {
          "operation": "Update an Encounter",
          "method": "PUT",
          "endpoint": "/api/encounter/:case_id",
          "description": "Updates an existing patient encounter.",
          "request": {
            "method": "PUT",
            "url_parameters": ":case_id",
            "body": {
              "procedure": "string",
              "scheduled_at": "timestamp",
              "end_time": "timestamp",
              "status": "enum[ongoing, completed, upcoming]",
              "room": [
                {
                  "id": "number",
                  "room_name": "string"
                }
              ],
              "nurse": "string",
              "physician": "string",
              "products": "array"
            }
          },
          "response": {
            "status": "200 OK",
            "body": {
              "message": "Encounter updated successfully.",
              "encounter": {
                "case_id": 1,
                "procedure": "Updated Surgery",
                "scheduled_at": "2024-09-01T10:00:00Z",
                "end_time": "2024-09-01T12:30:00Z",
                "status": "ongoing",
                "room": [
                  {
                    "id": 1,
                    "room_name": "Operating Room B"
                  }
                ],
                "nurse": "Nurse Jane",
                "physician": "Dr. Smith",
                "products": []
              }
            }
          }
        },
        {
          "operation": "Delete an Encounter",
          "method": "DELETE",
          "endpoint": "/api/encounter/:case_id",
          "description": "Deletes a patient encounter by case ID.",
          "request": {
            "method": "DELETE",
            "url_parameters": ":case_id"
          },
          "response": {
            "status": "200 OK",
            "body": {
              "message": "Encounter deleted successfully."
            }
          }
        }
      ],
      "validation_rules": {
        "patient_name": "Must be a string and required.",
        "mrn_number": "Must be a number and required.",
        "case_id": "Must be a unique number and required.",
        "procedure": "Must be a string and required.",
        "scheduled_at": "Must be a valid timestamp and required.",
        "end_time": "Must be a valid timestamp and must be after scheduled_at.",
        "status": "Must be one of ['ongoing', 'completed', 'upcoming'].",
        "room": "Must be an array of room objects with required id and room_name fields.",
        "nurse": "Must be a string and required.",
        "physician": "Must be a string and required.",
        "products": "Must be an array of product schema."
      }
    },
    "data_schema": {
      "model_name": "Encounter",
      "schema": {
        "patient_name": {
          "type": "String",
          "required": true
        },
        "mrn_number": {
          "type": "Number",
          "required": true
        },
        "case_id": {
          "type": "Number",
          "unique": true,
          "required": true
        },
        "procedure": {
          "type": "String",
          "required": true
        },
        "created_at": {
          "type": "Timestamp",
          "default": "Date.now"
        },
        "updated_at": {
          "type": "Timestamp",
          "default": "Date.now"
        },
        "scheduled_at": {
          "type": "Timestamp",
          "required": true
        },
        "end_time": {
          "type": "Timestamp",
          "required": true,
          "validate": {
            "validator": "function(value) { return value > this.scheduled_at; }",
            "message": "End time must be after the scheduled time."
          }
        },
        "status": {
          "type": "String",
          "enum": ["ongoing", "completed", "upcoming"],
          "required": true
        },
        "room": [
          {
            "id": {
              "type": "Number",
              "required": true
            },
            "room_name": {
              "type": "String",
              "required": true
            }
          }
        ],
        "nurse": {
          "type": "String",
          "required": true
        },
        "physician": {
          "type": "String",
          "required": true
        },
        "products": {
          "type": "Array",
          "items": {
            "$ref": "ProductSchema"
          }
        }
      }
    }
  }
  